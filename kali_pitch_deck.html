<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kali Pitch Deck</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Base styles and enhanced futuristic theme */
        :root {
            --primary-color: #00ffff; /* Cyan */
            --secondary-color: #ff00ff; /* Magenta */
            --tertiary-color: #8a2be2; /* BlueViolet */
            --bg-dark: #0a0a1a;
            --bg-light: #10102a;
            --text-light: #e0e0e0;
            --text-dim: #c0c0c0;
            --text-dark: #ffffff;
            --glass-bg-cyan: rgba(0, 255, 255, 0.1);
            --glass-border-cyan: rgba(0, 255, 255, 0.3);
            --glass-bg-magenta: rgba(255, 0, 255, 0.1);
            --glass-border-magenta: rgba(255, 0, 255, 0.3);
            --default-border-radius: 10px; /* Consistent border radius */
            --placeholder-border: 1px dashed rgba(255, 255, 255, 0.4); /* Consistent placeholder border */
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-light);
            margin: 0; padding: 0; display: flex; justify-content: center; align-items: center;
            min-height: 100vh; overflow: hidden; line-height: 1.6;
        }

        /* Animated Background */
        @keyframes subtleGradient {
            0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; }
        }

        .slide-container {
            width: 90%; max-width: 1000px; aspect-ratio: 16 / 9;
            background: linear-gradient(135deg, var(--bg-light), var(--bg-dark), #1a0a1a, #0a102a);
            background-size: 300% 300%; animation: subtleGradient 25s ease infinite;
            border-radius: 15px; box-shadow: 0 0 40px rgba(0, 255, 255, 0.15);
            overflow: hidden; display: flex; flex-direction: column; position: relative;
            border: 1px solid rgba(0, 255, 255, 0.25);
        }

        /* Slide content base */
        .slide-content {
            width: 100%; height: 100%; padding: 3rem 4rem; /* Consistent padding */
            box-sizing: border-box; display: none; flex-direction: column;
            justify-content: center; align-items: center; text-align: center;
            position: absolute; top: 0; left: 0; opacity: 0;
            transition: opacity 0.6s ease-in-out, transform 0.6s ease-in-out;
            transform: scale(0.98);
        }
        .slide-content.active { display: flex; opacity: 1; transform: scale(1); }

        /* Headlines */
        .headline {
            font-family: 'Exo 2', sans-serif; font-size: 2.4rem;
            font-weight: 700; color: var(--text-dark); margin-bottom: 2rem; /* Consistent margin */
            padding-bottom: 0.75rem; display: inline-block;
            border-bottom: 3px solid transparent; border-image: linear-gradient(90deg, var(--secondary-color), var(--primary-color)) 1;
            animation: fadeInDown 0.8s ease-out; line-height: 1.3;
            border-image-slice: 1;
        }
        /* Remove underline for specific headline styles */
        .slide-problem .headline, .slide-marketing .headline { border-bottom: none; border-image: none; margin-bottom: 1.5rem; /* Adjust margin where underline removed */ }


        /* Text Styles & Alignment */
        p, li, .step-desc, .stream-desc, .strategy-desc, .member-expertise, .ask-purpose, .contact-info p {
            font-size: 1rem; color: var(--text-dim); line-height: 1.7; max-width: 700px;
            margin-left: auto; margin-right: auto; /* Center paragraphs by default */
        }
        /* Left align lists and specific paragraphs */
        ul, .pharos-points, .resourcefulness p, .innovation p, .market-desc, .timeline-item {
            text-align: left;
            margin-left: 0; /* Remove auto margin for left align */
            margin-right: 0;
        }
        li { list-style-position: outside; /* Ensure bullets are outside */ }
        strong { font-weight: 600; color: var(--text-dark); }

        /* Animations */
        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInLeft { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes fadeInRight { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes pulseGlowCyan { 0%, 100% { box-shadow: 0 0 15px rgba(0, 255, 255, 0.2); } 50% { box-shadow: 0 0 25px rgba(0, 255, 255, 0.5); } }
        @keyframes pulseGlowMagenta { 0%, 100% { box-shadow: 0 0 15px rgba(255, 0, 255, 0.2); } 50% { box-shadow: 0 0 25px rgba(255, 0, 255, 0.5); } }
        @keyframes dash { to { stroke-dashoffset: 0; } }

        /* --- Consistent Placeholder Styles --- */
        .logo-placeholder, .pharos-logo-placeholder, .problem-graphic-placeholder,
        .marketing-graphic-placeholder, .chart-placeholder, .member-photo-placeholder {
             background-color: rgba(255, 255, 255, 0.05);
             border-radius: var(--default-border-radius);
             display: flex; align-items: center; justify-content: center;
             font-size: 0.8rem; font-style: italic; color: var(--text-dim);
             border: var(--placeholder-border); /* Consistent border */
        }
        /* Specific placeholder overrides */
        .slide-cover .logo-placeholder, .slide-cover .pharos-logo-placeholder,
        .slide-contact .logo-placeholder, .slide-contact .pharos-logo-placeholder {
             border-color: rgba(0, 255, 255, 0.5); box-shadow: 0 0 15px rgba(0, 255, 255, 0.2); color: var(--primary-color);
        }
        .problem-graphic-placeholder { border-color: var(--secondary-color); color: var(--secondary-color); box-shadow: 0 0 15px rgba(255, 0, 255, 0.2); }
        .marketing-graphic-placeholder { border-color: var(--primary-color); color: var(--primary-color); box-shadow: 0 0 15px rgba(0, 255, 255, 0.2); }
        .chart-placeholder { border-color: rgba(0, 255, 255, 0.5); box-shadow: 0 0 20px rgba(0, 255, 255, 0.15); }
        .member-photo-placeholder { border-radius: 50%; border: 2px solid rgba(0, 255, 255, 0.5); box-shadow: 0 0 10px rgba(0, 255, 255, 0.2); }


        /* --- Slide Specific Styles --- */

        /* Slide 1: Cover */
        .slide-cover .logo-placeholder { width: 180px; height: 60px; font-size: 1rem; }
        .slide-cover .tagline { font-family: 'Exo 2', sans-serif; font-size: 2.2rem; text-shadow: 0 0 15px rgba(0, 255, 255, 0.6); animation: fadeInUp 1s 0.2s ease-out backwards; margin-bottom: 1.5rem; color: #fff; }
        .slide-cover .powered-by { font-size: 1.1rem; color: var(--primary-color); animation: fadeInUp 1s 0.4s ease-out backwards; display: flex; align-items: center; gap: 0.5rem; margin-top: 2rem; }
        .slide-cover .pharos-logo-placeholder { width: 120px; height: 35px; font-size: 0.8rem; }

        /* Slide 2: Problem (Asymmetric Style) */
        .slide-problem { justify-content: space-between; align-items: stretch; text-align: left; padding: 3rem 4rem; }
        .slide-problem .problem-main-content { display: flex; justify-content: space-between; align-items: center; flex-grow: 1; margin-bottom: 1.5rem; }
        .slide-problem .problem-left { flex-basis: 55%; display: flex; flex-direction: column; justify-content: center; padding-right: 2rem; } /* Added padding */
        .slide-problem .problem-right { flex-basis: 40%; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .slide-problem .problem-headline { font-size: 3rem; line-height: 1.2; margin-bottom: 1.5rem; animation: fadeInLeft 1s 0.2s ease-out backwards; }
        .slide-problem .problem-graphic-placeholder { width: 100px; height: 100px; margin-bottom: 1.5rem; animation: fadeInLeft 1s 0.4s ease-out backwards; }
        .slide-problem .problem-capsule { background-color: var(--primary-color); color: var(--bg-dark); padding: 1.2rem 1.8rem; border-radius: 50px; font-size: 1rem; font-weight: 600; line-height: 1.5; text-align: center; max-width: 350px; box-shadow: 0 5px 25px rgba(0, 255, 255, 0.3); animation: fadeInRight 1s 0.6s ease-out backwards; }
        .slide-problem .problem-conclusion { font-size: 1.05rem; color: var(--text-light); text-align: center; width: 100%; padding-top: 0.5rem; animation: fadeInUp 1s 0.8s ease-out backwards; }
        .slide-problem .problem-conclusion strong { color: var(--primary-color); font-weight: 700; }

        /* Slide 3: Solution */
        .slide-solution .core-concept { margin-bottom: 2.5rem; animation: fadeInUp 1s 0.3s ease-out backwards; }
        .slide-solution .features { display: flex; gap: 1.5rem; justify-content: center; flex-wrap: wrap; animation: fadeInUp 1s 0.5s ease-out backwards; }
        .slide-solution .feature-item { background-color: var(--glass-bg-cyan); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); border: 1px solid var(--glass-border-cyan); box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2); color: var(--text-dark); padding: 1.2rem 1.8rem; border-radius: var(--default-border-radius); font-size: 1rem; min-width: 190px; text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease; cursor: default; }
        .slide-solution .feature-item:hover { transform: translateY(-8px); box-shadow: 0 8px 25px rgba(0, 255, 255, 0.2); background-color: rgba(0, 255, 255, 0.15); }

        /* Slide 4: Why Pharos */
        .slide-why-pharos { justify-content: center; align-items: center; }
        .slide-why-pharos .pharos-points { animation: fadeInLeft 1s 0.3s ease-out backwards; max-width: 700px; }
        .slide-why-pharos p { margin-bottom: 1rem; }
        .slide-why-pharos strong { color: var(--primary-color); text-shadow: 0 0 5px rgba(0, 255, 255, 0.5); }
        .slide-why-pharos .contribution { margin-top: 2rem; font-style: italic; border-left: 3px solid var(--secondary-color); padding-left: 1.5rem; box-shadow: -5px 0 10px -5px rgba(255, 0, 255, 0.3); }

        /* Slide 5: How it Works (Flowchart) */
        .slide-how-it-works { justify-content: flex-start; }
        .slide-how-it-works .headline { margin-bottom: 1rem; font-size: 2.2rem; }
        .flowchart-v2-wrapper { width: 100%; height: calc(100% - 70px); position: relative; margin-top: 0.5rem; display: grid; grid-template-columns: repeat(5, 1fr); grid-template-rows: repeat(4, auto); gap: 1rem 1.5rem; align-items: center; justify-items: center; animation: fadeInUp 1s 0.3s ease-out backwards; }
        .flowchart-v2-svg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; overflow: visible; pointer-events: none; }
        .flow-node-v2 { background-color: var(--glass-bg-cyan); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); border: 1px solid var(--glass-border-cyan); border-radius: var(--default-border-radius); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); padding: 0.6rem 0.8rem; text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease; cursor: default; position: relative; z-index: 1; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 65px; }
        .flow-node-v2:hover { transform: scale(1.05); box-shadow: 0 6px 20px rgba(0, 255, 255, 0.3); }
        .flow-node-v2 i { font-size: 1.5rem; margin-bottom: 0.4rem; color: var(--primary-color); text-shadow: 0 0 8px var(--primary-color); }
        .flow-node-v2 .node-text { font-size: 0.7rem; color: var(--text-dark); line-height: 1.3; font-weight: 400; }
        .node-user { background-color: var(--glass-bg-magenta); border-color: var(--glass-border-magenta); }
        .node-user i { color: var(--secondary-color); text-shadow: 0 0 8px var(--secondary-color); }
        .node-user:hover { box-shadow: 0 6px 20px rgba(255, 0, 255, 0.3); }
        .node-platform { border-radius: 50%; width: 100px !important; height: 100px !important; background: linear-gradient(145deg, var(--tertiary-color), var(--primary-color)); border: 2px solid var(--primary-color); box-shadow: 0 0 25px rgba(0, 255, 255, 0.4); animation: pulseGlowCyan 3s infinite ease-in-out; padding: 0.5rem; }
        .node-platform i { font-size: 2.2rem; margin-bottom: 0.3rem; color: var(--text-dark); text-shadow: none; }
        .node-platform .node-text { font-size: 0.85rem; font-weight: 600; color: var(--text-dark); }
        .node-blockchain { border-style: dashed; border-color: var(--tertiary-color); background: rgba(138, 43, 226, 0.1); border-radius: var(--default-border-radius); } /* Added radius */
        .node-blockchain i { color: var(--tertiary-color); }
        .node-blockchain:hover { box-shadow: 0 6px 20px rgba(138, 43, 226, 0.3); }
        .node-nft { border-color: var(--primary-color); border-radius: var(--default-border-radius); } /* Added radius */
        .node-nft i { color: var(--primary-color); }
        .node-contract { border-color: var(--secondary-color); background: var(--glass-bg-magenta); border-radius: var(--default-border-radius); } /* Added radius */
        .node-contract i { color: var(--secondary-color); }
        .node-contract:hover { box-shadow: 0 6px 20px rgba(255, 0, 255, 0.3); }
        #flow-kali-platform { grid-column: 3; grid-row: 2 / span 2; } #flow-seller { grid-column: 1; grid-row: 1; } #flow-list-sell { grid-column: 1; grid-row: 2; } #flow-buyer { grid-column: 5; grid-row: 1; } #flow-discover-buy { grid-column: 5; grid-row: 2; } #flow-property-nft { grid-column: 3; grid-row: 1; } #flow-pharos-bc { grid-column: 3; grid-row: 4; } #flow-list-rent { grid-column: 1; grid-row: 3; } #flow-renter { grid-column: 1; grid-row: 4; } #flow-rent-contract { grid-column: 2; grid-row: 4; } #flow-lock-lend { grid-column: 5; grid-row: 3; } #flow-borrower { grid-column: 5; grid-row: 4; } #flow-lend-contract { grid-column: 4; grid-row: 4; }

        /* Slide 6: Market Opportunity */
        .slide-market-opp .market-content { display: flex; align-items: center; justify-content: space-between; width: 100%; max-width: 850px; gap: 3rem; }
        .slide-market-opp .market-text { flex-basis: 48%; animation: fadeInLeft 1s 0.3s ease-out backwards; }
        .slide-market-opp .market-stat { font-family: 'Exo 2', sans-serif; font-size: 3rem; font-weight: 700; color: var(--primary-color); display: block; margin-bottom: 0.2rem; line-height: 1.1; text-shadow: 0 0 8px rgba(0, 255, 255, 0.6); }
        .slide-market-opp .market-desc { font-size: 1rem; color: var(--text-dim); margin-bottom: 1.5rem; }
        .slide-market-opp .chart-placeholder { flex-basis: 48%; height: 300px; animation: fadeInRight 1s 0.3s ease-out backwards; font-size: 1rem; }

        /* Slide 7: Business Model */
        .slide-business-model p { margin-bottom: 2rem; }
        .slide-business-model .revenue-streams { display: flex; gap: 1.5rem; justify-content: center; flex-wrap: wrap; animation: fadeInUp 1s 0.3s ease-out backwards; }
        .slide-business-model .stream-item { background-color: var(--glass-bg-magenta); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); border: 1px solid var(--glass-border-magenta); box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2); color: var(--text-dark); padding: 1.2rem; border-radius: var(--default-border-radius); min-width: 210px; text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .slide-business-model .stream-item:hover { transform: translateY(-8px); box-shadow: 0 8px 25px rgba(255, 0, 255, 0.2); background-color: rgba(255, 0, 255, 0.15); }
        .slide-business-model .stream-icon svg { width: 35px; height: 35px; margin-bottom: 1rem; filter: drop-shadow(0 0 5px rgba(255, 0, 255, 0.7)); color: var(--secondary-color); }
        .slide-business-model .stream-title { font-size: 1.1rem; font-weight: 600; color: var(--text-dark); margin-bottom: 0.5rem; }
        .slide-business-model .stream-desc { font-size: 0.9rem; color: var(--text-dim); }

        /* Slide 8: Traction & Roadmap */
        .slide-traction p.traction-achieved { margin-bottom: 2rem; font-style: italic; color: #a0a0a0; }
        .slide-traction .timeline { position: relative; width: 80%; max-width: 700px; margin: 2rem auto 0 auto; border-left: 3px solid transparent; border-image: linear-gradient(180deg, var(--primary-color), var(--secondary-color)) 1; padding-left: 2.5rem; animation: fadeInUp 1s 0.3s ease-out backwards; }
        .slide-traction .timeline-item { position: relative; margin-bottom: 2.5rem; }
        .slide-traction .timeline-item::before { content: ''; position: absolute; left: -2.5rem; top: 5px; transform: translateX(-50%); width: 18px; height: 18px; background: var(--primary-color); border-radius: 50%; box-shadow: 0 0 15px rgba(0, 255, 255, 0.7); transition: transform 0.3s ease; }
        .slide-traction .timeline-item:hover::before { transform: scale(1.3) translateX(-19%); }
        .slide-traction .timeline-date { font-family: 'Exo 2', sans-serif; font-weight: 700; color: var(--text-dark); display: block; margin-bottom: 0.3rem; font-size: 1.1rem; }
        .slide-traction .timeline-desc { font-size: 1rem; color: var(--text-dim); }

        /* Slide 9: Marketing & Community (Asymmetric Style) */
        .slide-marketing { justify-content: space-between; align-items: stretch; text-align: left; padding: 3rem 4rem; }
        .slide-marketing .marketing-main-content { display: flex; justify-content: space-between; align-items: center; flex-grow: 1; margin-bottom: 2rem; }
        .slide-marketing .marketing-left { flex-basis: 55%; display: flex; flex-direction: column; justify-content: center; padding-right: 2rem; } /* Added padding */
        .slide-marketing .marketing-right { flex-basis: 40%; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .slide-marketing .marketing-headline { font-size: 3rem; line-height: 1.2; margin-bottom: 1.5rem; animation: fadeInLeft 1s 0.2s ease-out backwards; }
        .slide-marketing .marketing-graphic-placeholder { width: 100px; height: 100px; margin-bottom: 1.5rem; animation: fadeInLeft 1s 0.4s ease-out backwards; }
        .slide-marketing .marketing-capsule { background-color: var(--secondary-color); color: var(--text-dark); padding: 1.5rem 2rem; border-radius: 50px; font-size: 1.05rem; font-weight: 600; line-height: 1.5; text-align: center; max-width: 350px; box-shadow: 0 5px 25px rgba(255, 0, 255, 0.3); animation: fadeInRight 1s 0.6s ease-out backwards; }
        .slide-marketing .marketing-conclusion { font-size: 1.1rem; color: var(--text-light); text-align: center; width: 100%; padding-top: 1rem; animation: fadeInUp 1s 0.8s ease-out backwards; }


        /* Slide 10: Team */
        .slide-team .team-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; width: 100%; max-width: 850px; margin-top: 2rem; animation: fadeInUp 1s 0.3s ease-out backwards; }
        .slide-team .team-member { background-color: rgba(255, 255, 255, 0.08); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25); border-radius: var(--default-border-radius); padding: 1.2rem; text-align: center; transition: background-color 0.3s ease, transform 0.3s ease; }
        .slide-team .team-member:hover { background-color: rgba(255, 255, 255, 0.12); transform: translateY(-5px); }
        .slide-team .member-photo-placeholder { width: 110px; height: 110px; margin: 0 auto 1.2rem auto; } /* Uses standard placeholder style */
        .slide-team .member-name { font-size: 1.2rem; font-weight: 600; color: var(--text-dark); margin-bottom: 0.3rem; }
        .slide-team .member-title { font-size: 0.95rem; color: var(--primary-color); margin-bottom: 0.8rem; text-shadow: 0 0 5px rgba(0, 255, 255, 0.5); }
        .slide-team .member-expertise { font-size: 0.85rem; color: var(--text-dim); line-height: 1.5; }

        /* Slide 11 & 12: Resourcefulness, Innovation */
        .slide-resourcefulness p, .slide-innovation p { margin-bottom: 1.2rem; animation: fadeInLeft 1s 0.3s ease-out backwards; max-width: 750px; /* Allow slightly wider text */ }
        .slide-resourcefulness strong { color: var(--secondary-color); text-shadow: 0 0 5px rgba(255, 0, 255, 0.5); }
        .slide-innovation strong { color: var(--primary-color); text-shadow: 0 0 5px rgba(0, 255, 255, 0.5); }
        .slide-innovation .impact-statement { margin-top: 2rem; font-style: italic; border-left: 3px solid var(--primary-color); padding-left: 1.5rem; box-shadow: -5px 0 10px -5px rgba(0, 255, 255, 0.3); animation: fadeInRight 1s 0.5s ease-out backwards; max-width: 750px; }

        /* Slide 13: The Ask */
        .slide-ask p:first-of-type { margin-bottom: 1rem; font-size: 1.1rem; }
        .slide-ask .ask-amount { font-family: 'Exo 2', sans-serif; font-size: 3.5rem; font-weight: 700; color: var(--primary-color); margin: 0.5rem 0; text-shadow: 0 0 15px rgba(0, 255, 255, 0.7); animation: fadeInUp 1s 0.3s ease-out backwards; }
        .slide-ask .ask-purpose { margin-top: 1rem; font-size: 1.1rem; animation: fadeInUp 1s 0.5s ease-out backwards; }
        .slide-ask p:nth-of-type(3) { margin-top: 2.5rem; font-size: 1.1rem; } /* 'OR' */

        /* Slide 14: Contact / Thank You */
        .slide-contact .headline { border: none; margin-bottom: 2.5rem; }
        .slide-contact .final-logos { display: flex; gap: 2.5rem; margin-bottom: 2.5rem; animation: fadeInUp 1s 0.3s ease-out backwards; align-items: center; }
        .slide-contact .logo-placeholder { width: 180px; height: 60px; font-size: 1rem; }
        .slide-contact .pharos-logo-placeholder { width: 120px; height: 40px; font-size: 0.8rem; }
        .slide-contact .contact-info { font-size: 1.1rem; line-height: 1.9; margin-top: 1rem; animation: fadeInUp 1s 0.5s ease-out backwards; }
        .slide-contact a { color: var(--primary-color); text-decoration: none; transition: color 0.3s ease; }
        .slide-contact a:hover { color: var(--text-dark); }
        .slide-contact .call-to-action { font-family: 'Exo 2', sans-serif; font-size: 1.5rem; font-weight: 600; color: var(--text-dark); margin-top: 2.5rem; animation: fadeInUp 1s 0.7s ease-out backwards; text-shadow: 0 0 10px rgba(255, 255, 255, 0.5); }

        /* --- Navigation --- */
        .slide-nav { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); display: flex; gap: 12px; z-index: 10; }
        .nav-dot { width: 13px; height: 13px; background-color: rgba(255, 255, 255, 0.15); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 50%; cursor: pointer; transition: background-color 0.3s ease, transform 0.3s ease; }
        .nav-dot:hover { background-color: rgba(255, 255, 255, 0.3); transform: scale(1.2); }
        .nav-dot.active { background-color: var(--primary-color); box-shadow: 0 0 12px rgba(0, 255, 255, 0.7); transform: scale(1.1); border: none; }

        /* Simple SVG Icon Styles */
        .svg-icon { fill: currentColor; }

    </style>
</head>
<body>

    <div class="slide-container">

        <div class="slide-content slide-cover active">
             <div class="logo-placeholder">Kali Logo Here</div>
            <h1 class="tagline">Revolutionizing Real Estate Transactions on the Blockchain.</h1>
            <div class="powered-by">
                Powered by <span class="pharos-logo-placeholder">Pharos Logo</span>
            </div>
            <p style="margin-top: 1.5rem; font-size: 0.9rem; color: #a0a0a0;">Event/Competition Name - Date</p>
        </div>

        <div class="slide-content slide-problem">
            <div class="problem-main-content">
                <div class="problem-left">
                    <h2 class="problem-headline">$100+ Billion Lost Annually to Real Estate Friction</h2>
                    <div class="problem-graphic-placeholder">
                        <i class="fas fa-project-diagram fa-2x" style="color: var(--secondary-color);"></i>
                    </div>
                </div>
                <div class="problem-right">
                     <div class="problem-capsule">
                        Weeks wasted & opaque processes hinder ~70% of property deals.
                     </div>
                </div>
            </div>
            <p class="problem-conclusion">
                Kali unlocks this inefficiency, paving the way for a projected <br><strong>$16 Trillion</strong> tokenized market by 2030.
            </p>
        </div>

        <div class="slide-content slide-solution">
             <h2 class="headline">Kali: Seamless, Secure, Transparent Real Estate.</h2>
             <p class="core-concept">
                 Kali is a next-generation real estate marketplace leveraging the power of blockchain to digitize and streamline property transactions.
             </p>
             <div class="features">
                 <div class="feature-item">Asset Tokenization</div>
                 <div class="feature-item">Smart Contracts</div>
                 <div class="feature-item">Immutable Records</div>
                 <div class="feature-item">Decentralized Verification</div>
             </div>
        </div>

        <div class="slide-content slide-why-pharos">
             <h2 class="headline">Built on Pharos: Unparalleled Speed, Security, and Scalability.</h2>
             <div class="pharos-points">
                 <p>"Kali is natively integrated with the Pharos ecosystem, utilizing its core strengths to deliver a superior real estate experience."</p>
                 <p><strong>Deep-Parallel Processing:</strong> Enabling high-throughput, near-instantaneous transaction confirmations crucial for real estate closings.</p>
                 <p><strong>Trustless Environment:</strong> Pharos's architecture ensures verifiable and secure transactions without central authorities, directly aligning with Kali's mission.</p>
                 <p><strong>Scalability:</strong> Pharos provides the foundation for Kali to scale globally, handling increasing transaction volume and user growth.</p>
                 <p class="contribution"><strong>Contribution:</strong> "Kali drives real-world asset (RWA) adoption onto Pharos, significantly expanding the ecosystem's utility and value."</p>
             </div>
        </div>

        <div class="slide-content slide-how-it-works">
            <h2 class="headline">Kali Ecosystem: Buy, Sell, Rent, Lend</h2>
            <div class="flowchart-v2-wrapper" id="flowchart-v2-grid">
                <svg class="flowchart-v2-svg" id="flowchart-v2-connections">
                    <defs>
                        <marker id="arrowhead-v2" markerWidth="10" markerHeight="7" refX="8" refY="3.5" orient="auto" markerUnits="strokeWidth"> <polygon points="0 0, 10 3.5, 0 7" fill="var(--primary-color)" /> </marker>
                        <marker id="arrowhead-v2-magenta" markerWidth="10" markerHeight="7" refX="8" refY="3.5" orient="auto" markerUnits="strokeWidth"> <polygon points="0 0, 10 3.5, 0 7" fill="var(--secondary-color)" /> </marker>
                        <marker id="arrowhead-v2-tertiary" markerWidth="10" markerHeight="7" refX="8" refY="3.5" orient="auto" markerUnits="strokeWidth"> <polygon points="0 0, 10 3.5, 0 7" fill="var(--tertiary-color)" /> </marker>
                    </defs>
                </svg>
                <div class="flow-node-v2 node-user" id="flow-seller"> <i class="fas fa-user-tie"></i><span class="node-text">Property Owner / Seller</span> </div>
                <div class="flow-node-v2" id="flow-list-sell"> <i class="fas fa-file-signature"></i><span class="node-text">List Property for Sale</span> </div>
                <div class="flow-node-v2 node-platform" id="flow-kali-platform"> <i class="fas fa-building-columns"></i><span class="node-text">Kali Platform (on Pharos)</span> </div>
                <div class="flow-node-v2 node-nft" id="flow-property-nft"> <i class="fas fa-house-chimney-user"></i><span class="node-text">Property NFT (ERC-721)</span> </div>
                <div class="flow-node-v2 node-user" id="flow-buyer"> <i class="fas fa-user-tag"></i><span class="node-text">Buyer / Investor</span> </div>
                <div class="flow-node-v2" id="flow-discover-buy"> <i class="fas fa-search-dollar"></i><span class="node-text">Discover & Buy Property</span> </div>
                <div class="flow-node-v2 node-blockchain" id="flow-pharos-bc"> <i class="fas fa-cubes"></i><span class="node-text">Pharos Blockchain Ledger</span> </div>
                <div class="flow-node-v2" id="flow-list-rent"> <i class="fas fa-calendar-alt"></i><span class="node-text">List Property for Rent</span> </div>
                <div class="flow-node-v2 node-user" id="flow-renter"> <i class="fas fa-user-clock"></i><span class="node-text">Renter</span> </div>
                <div class="flow-node-v2 node-contract" id="flow-rent-contract"> <i class="fas fa-file-contract"></i><span class="node-text">Rental Smart Contract</span> </div>
                <div class="flow-node-v2" id="flow-lock-lend"> <i class="fas fa-hand-holding-usd"></i><span class="node-text">Use Property as Collateral</span> </div>
                <div class="flow-node-v2 node-user" id="flow-borrower"> <i class="fas fa-landmark"></i><span class="node-text">Borrower / Lender (DeFi)</span> </div>
                <div class="flow-node-v2 node-contract" id="flow-lend-contract"> <i class="fas fa-shield-alt"></i><span class="node-text">Lending Smart Contract</span> </div>
            </div>
        </div>

        <div class="slide-content slide-market-opp">
            <h2 class="headline">Tapping into the Massive Global Real Estate Market.</h2>
            <div class="market-content">
                <div class="market-text">
                    <span class="market-stat">$XXX Trillion</span>
                    <p class="market-desc">Global Real Estate Market Size.</p>
                     <span class="market-stat">XX%</span>
                    <p class="market-desc">Potential for Blockchain Disruption.</p>
                    <p style="font-size: 1rem; color: #c0c0c0; margin-left: 0;">Targeting tech-savvy investors, global buyers, and those seeking efficiency.</p>
                </div>
                <div class="chart-placeholder"> Animated Chart/Graph Placeholder </div>
            </div>
        </div>

        <div class="slide-content slide-business-model">
            <h2 class="headline">Sustainable Growth & Clear Value Proposition.</h2>
             <p>Lean operational model leveraging blockchain automation reduces overhead. Strong value proposition drives adoption.</p>
            <div class="revenue-streams">
                 <div class="stream-item">
                     <div class="stream-icon"> <svg class="svg-icon" viewBox="0 0 24 24"><path d="M11.8,10.9c-2.27-.59-3-1.2-3-2.15c0-1.09,1.01-1.85,2.7-1.85c1.78,0,2.44.85,2.5,2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94,.42-3.5,1.68-3.5,3.61c0,2.31,1.91,3.46,4.7,4.13c2.5.6,3,1.48,3,2.41c0,.69-.49,1.75-2.7,1.75c-2.11,0-2.8-.93-2.93-1.95H6.49c.14,1.74,1.46,3.18,3.51,3.63V21h3v-2.15c1.95-.37,3.5-1.5,3.5-3.55c0-2.84-2.43-3.81-4.7-4.4z"></path></svg> </div>
                     <div class="stream-title">Transaction Fees</div> <div class="stream-desc">Competitive % fee on successful sales.</div>
                 </div>
                 <div class="stream-item">
                     <div class="stream-icon"> <svg class="svg-icon" viewBox="0 0 24 24"><path d="M12,17.27L18.18,21L17,14.14L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7,14.14L5.82,21L12,17.27Z"></path></svg> </div>
                     <div class="stream-title">Premium Listings</div> <div class="stream-desc">Optional fees for enhanced visibility.</div>
                 </div>
                 <div class="stream-item">
                     <div class="stream-icon"> <svg class="svg-icon" viewBox="0 0 24 24"><path d="M19.43,12.98c.04-.32,.07-.64,.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15,.24-.42,.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49,1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46,2.18,14.25,2,14,2h-4c-.25,0-.46,.18-.49,.42l-.38,2.65c-.61,.25-1.17-.59-1.69,.98l-2.49-1c-.23-.08-.49,0-.61,.22l-2,3.46c-.13,.22-.07,.49,.12,.64l2.11,1.65c-.04,.32-.07,.65-.07,.98s.03,.66,.07,.98l-2.11,1.65c-.19,.15-.24,.42-.12,.64l2,3.46c.12,.22,.39,.3,.61,.22l2.49-1c.52,.4,1.08,.73,1.69,.98l.38,2.65c.03,.24,.24,.42,.49,.42h4c.25,0,.46-.18,.49-.42l.38-2.65c.61-.25,1.17-.59,1.69-.98l2.49,1c.23,.08,.49,0,.61-.22l2-3.46c.12-.22,.07-.49-.12-.64l-2.11-1.65Z"></path></svg> </div>
                     <div class="stream-title">Value-Added Services</div> <div class="stream-desc">(Future) Analytics, DeFi Integrations.</div>
                 </div>
            </div>
        </div>

        <div class="slide-content slide-traction">
            <h2 class="headline">Building Momentum, Defining the Future.</h2>
            <p class="traction-achieved">[Mention any current traction: Beta users, test transactions, partnerships etc.]</p>
            <div class="timeline">
                <div class="timeline-item"> <div class="timeline-date">Q3 [Year]</div> <div class="timeline-desc">Platform Launch on Pharos Mainnet</div> </div>
                <div class="timeline-item"> <div class="timeline-date">Q4 [Year]</div> <div class="timeline-desc">Integration with [Pharos DeFi?], Fractional Ownership Rollout</div> </div>
                <div class="timeline-item"> <div class="timeline-date">[Year+1]</div> <div class="timeline-desc">Geographic Expansion, AI-powered Market Insights</div> </div>
                <div class="timeline-item"> <div class="timeline-date">Future</div> <div class="timeline-desc">Continued innovation and ecosystem growth...</div> </div>
            </div>
        </div>

        <div class="slide-content slide-marketing">
             <div class="marketing-main-content">
                <div class="marketing-left">
                    <h2 class="marketing-headline">Cultivating the Kali Community</h2>
                    <div class="marketing-graphic-placeholder">
                        <i class="fas fa-users fa-2x" style="color: var(--primary-color);"></i>
                    </div>
                </div>
                <div class="marketing-right">
                     <div class="marketing-capsule">
                        Engaging the Pharos Ecosystem & Beyond through Education & Collaboration.
                    </div>
                </div>
            </div>
            <p class="marketing-conclusion">
                Fostering trust and growth with transparent communication and active participation.
            </p>
        </div>

        <div class="slide-content slide-team">
            <h2 class="headline">The Visionaries Behind Kali.</h2>
            <div class="team-grid">
                <div class="team-member"> <div class="member-photo-placeholder">Photo</div> <div class="member-name">[Team Member Name]</div> <div class="member-title">[Title/Role]</div> <div class="member-expertise">Highlight: Blockchain Dev / Real Estate / FinTech / Marketing</div> </div>
                <div class="team-member"> <div class="member-photo-placeholder">Photo</div> <div class="member-name">[Team Member Name]</div> <div class="member-title">[Title/Role]</div> <div class="member-expertise">Key skills, prior accomplishments, adaptability focus.</div> </div>
                <div class="team-member"> <div class="member-photo-placeholder">Photo</div> <div class="member-name">[Team Member Name]</div> <div class="member-title">[Title/Role]</div> <div class="member-expertise">Problem-solving abilities, relevant experience.</div> </div>
            </div>
        </div>

        <div class="slide-content slide-resourcefulness">
             <h2 class="headline">Maximizing Impact with Strategic Resource Allocation.</h2>
             <p>Leveraging <strong>blockchain automation</strong> for lean operations.</p>
             <p>Utilizing robust and efficient technologies, anchored by the <strong>Pharos blockchain</strong>.</p>
             <p>Actively using tools, grants, and support provided by the <strong>Pharos ecosystem</strong>.</p>
             <p>Building key <strong>strategic partnerships</strong> to accelerate growth efficiently.</p>
             <p>Demonstrating efficiency in utilizing available resources to achieve maximum output.</p>
        </div>

        <div class="slide-content slide-innovation">
             <h2 class="headline">Pioneering Trustless Real Estate & Strengthening Pharos.</h2>
             <p><strong>Originality:</strong> Unique angle for a comprehensive real estate marketplace on Pharos.</p>
             <p><strong>Creativity:</strong> Innovative use of smart contracts and tokenization for real-world assets.</p>
             <p><strong>Long-Term Change:</strong> Potential to fundamentally alter real estate transactions, increasing accessibility and transparency.</p>
             <p class="impact-statement"><strong>Pharos Impact:</strong> Driving significant RWA volume and demonstrating the power of Pharos for complex, high-value applications.</p>
        </div>

        <div class="slide-content slide-ask">
            <h2 class="headline">Join Us in Building the Future of Real Estate.</h2>
            <p>Seeking:</p>
            <div class="ask-amount">$X.XM Seed Funding</div>
            <p class="ask-purpose">To finalize platform development, expand the core team, and execute our go-to-market strategy.</p>
            <p style="margin-top: 2.5rem; font-size: 1.1rem;">OR</p>
            <p style="font-size: 1.1rem; color: #c0c0c0;">Seeking Strategic Partnerships with [Specify types of partners]</p>
        </div>

        <div class="slide-content slide-contact">
            <h2 class="headline" style="border: none; margin-bottom: 2.5rem;">Thank You</h2>
            <div class="final-logos">
                 <div class="logo-placeholder">Kali Logo</div>
                 <div class="pharos-logo-placeholder">Pharos Logo</div>
            </div>
            <div class="contact-info">
                <p>Website: <a href="#" target="_blank">www.kali-re.xyz</a></p>
                <p>Email: <a href="mailto:contact@kali-re.xyz">contact@kali-re.xyz</a></p>
                <p>Socials: [Twitter/Telegram Links]</p>
            </div>
            <p class="call-to-action">Let's build the future of real estate together.</p>
        </div>

        <div class="slide-nav">
            </div>

    </div>

    <script>
        // Wrap entire script in DOMContentLoaded listener
        document.addEventListener('DOMContentLoaded', () => {
            console.log("DEBUG: DOM fully loaded and parsed");

            const slides = document.querySelectorAll('.slide-content');
            const navContainer = document.querySelector('.slide-nav');
            let currentSlide = 0;
            let navDots = null; // Initialize navDots

            // --- Safety Check & Initialization ---
            if (!slides || slides.length === 0) {
                console.error("DEBUG: Error - No slides found. Cannot initialize navigation.");
                return; // Stop script if no slides
            } else {
                 console.log(`DEBUG: Found ${slides.length} slides.`);
            }

            if (!navContainer) {
                 console.error("DEBUG: Error - Navigation container '.slide-nav' not found.");
            } else {
                // Create navigation dots
                navContainer.innerHTML = ''; // Clear existing dots first
                slides.forEach((slide, index) => {
                    try {
                        const dot = document.createElement('div');
                        dot.classList.add('nav-dot');
                        // Set initial active dot correctly
                        if (index === currentSlide) { dot.classList.add('active'); }
                        // Use closure to capture correct index for event listener
                        const slideIndex = index; // Capture index
                        dot.addEventListener('click', () => {
                            console.log(`DEBUG: Dot ${slideIndex} clicked.`);
                            goToSlide(slideIndex);
                        });
                        navContainer.appendChild(dot);
                    } catch (e) {
                        console.error(`DEBUG: Error creating dot ${index}:`, e);
                    }
                });
                navDots = navContainer.querySelectorAll('.nav-dot'); // Select dots *after* creation
                console.log(`DEBUG: ${navDots ? navDots.length : 0} Navigation dots created.`);
            }

            // Ensure only the first slide has 'active' class initially in HTML
            slides.forEach((s, i) => {
                if (i === currentSlide) {
                    if (!s.classList.contains('active')) {
                         s.classList.add('active'); // Ensure first slide is active
                         console.log("DEBUG: Explicitly activated slide 0.");
                    }
                } else {
                    s.classList.remove('active');
                }
            });


            function goToSlide(slideIndex) {
                console.log(`DEBUG: goToSlide called for index: ${slideIndex}`);
                // Basic validation
                if (slideIndex === currentSlide || slideIndex < 0 || slideIndex >= slides.length) {
                     console.warn(`DEBUG: goToSlide - Invalid index ${slideIndex} or already on slide ${currentSlide}.`);
                     return;
                }

                try {
                    // Deactivate current slide and dot
                    console.log(`DEBUG: Deactivating slide ${currentSlide}`);
                    if (slides[currentSlide]) {
                         slides[currentSlide].classList.remove('active');
                    } else {
                         console.warn(`DEBUG: Current slide element at index ${currentSlide} not found.`);
                    }
                    // Check if navDots were successfully created
                    if (navDots && navDots[currentSlide]) {
                        navDots[currentSlide].classList.remove('active');
                    } else {
                        // Don't warn if navContainer didn't exist initially
                        if (navContainer) console.warn(`DEBUG: Current navDot at index ${currentSlide} not found or navDots is null.`);
                    }

                    // Activate new slide and dot
                    const oldSlideIndex = currentSlide; // Store old index before updating
                    currentSlide = slideIndex; // Update currentSlide *before* accessing new elements

                    console.log(`DEBUG: Activating slide ${currentSlide}`);
                    if (slides[currentSlide]) {
                        slides[currentSlide].classList.add('active');
                    } else {
                         console.error(`DEBUG: Target slide element at index ${currentSlide} not found.`);
                         currentSlide = oldSlideIndex; // Revert if target slide invalid
                         return;
                    }
                     // Check if navDots were successfully created
                    if (navDots && navDots[currentSlide]) {
                        navDots[currentSlide].classList.add('active');
                    } else {
                         if (navContainer) console.warn(`DEBUG: Target navDot at index ${currentSlide} not found or navDots is null.`);
                    }

                    console.log(`DEBUG: Successfully navigated to slide: ${currentSlide}`);

                    // Draw flowchart lines if switching to the new slide 5
                    if (slides[currentSlide].classList.contains('slide-how-it-works')) {
                        console.log("DEBUG: Slide 5 activated, scheduling flowchart draw...");
                        requestAnimationFrame(() => {
                             if (slides[currentSlide] && slides[currentSlide].classList.contains('slide-how-it-works')) {
                                 // Add extra delay and check grid dimensions before drawing
                                 setTimeout(() => {
                                     const grid = document.getElementById('flowchart-v2-grid');
                                     if (grid && grid.offsetWidth > 0) {
                                         drawFlowchartConnectionsV2();
                                     } else {
                                         console.warn("DEBUG: Flowchart grid not ready after delay, retrying draw...");
                                         // Retry once more after another short delay
                                         setTimeout(drawFlowchartConnectionsV2, 300);
                                     }
                                 }, 250); // Initial delay
                             } else {
                                 console.log("DEBUG: Slide changed before flowchart could be drawn for slide 5.");
                             }
                        });
                    }
                } catch (error) {
                    // Log specific error details
                    console.error("DEBUG: Error during slide transition:", error.message, error.stack);
                }
            }

            // --- Flowchart V2 Drawing Logic ---
            function drawFlowchartConnectionsV2() {
                console.log("DEBUG: Attempting to draw flowchart connections...");
                const svg = document.getElementById('flowchart-v2-connections');
                const grid = document.getElementById('flowchart-v2-grid');

                if (!svg) { console.error("DEBUG: Flowchart V2 Error - SVG container not found."); return; }
                if (!grid) { console.error("DEBUG: Flowchart V2 Error - Grid container not found."); return; }

                try {
                    // Safer way to clear previous lines/paths, keeping <defs>
                    const existingPaths = svg.querySelectorAll('path, line');
                    // console.log(`DEBUG: Clearing ${existingPaths.length} old paths/lines.`); // Less verbose
                    existingPaths.forEach(p => p.remove());

                    const connections = [ /* ... (connections array remains same) ... */
                         // Sell Flow
                        { from: 'flow-seller', to: 'flow-list-sell', color: 'var(--secondary-color)', marker: 'url(#arrowhead-v2-magenta)' },
                        { from: 'flow-list-sell', to: 'flow-kali-platform', color: 'var(--secondary-color)', marker: 'url(#arrowhead-v2-magenta)' },
                        { from: 'flow-kali-platform', to: 'flow-property-nft', color: 'var(--primary-color)', marker: 'url(#arrowhead-v2)' }, // Token creation
                        // Buy Flow
                        { from: 'flow-buyer', to: 'flow-discover-buy', color: 'var(--primary-color)', marker: 'url(#arrowhead-v2)' },
                        { from: 'flow-discover-buy', to: 'flow-kali-platform', color: 'var(--primary-color)', marker: 'url(#arrowhead-v2)' },
                        { from: 'flow-kali-platform', to: 'flow-buyer', color: 'var(--primary-color)', marker: 'url(#arrowhead-v2)', curvature: 0.2 }, // Confirmation/NFT
                        // Rent Flow
                        { from: 'flow-property-nft', to: 'flow-list-rent', color: 'var(--secondary-color)', marker: 'url(#arrowhead-v2-magenta)' },
                        { from: 'flow-list-rent', to: 'flow-kali-platform', color: 'var(--secondary-color)', marker: 'url(#arrowhead-v2-magenta)' },
                        { from: 'flow-renter', to: 'flow-rent-contract', color: 'var(--secondary-color)', marker: 'url(#arrowhead-v2-magenta)' },
                        { from: 'flow-rent-contract', to: 'flow-kali-platform', color: 'var(--secondary-color)', marker: 'url(#arrowhead-v2-magenta)' },
                        { from: 'flow-kali-platform', to: 'flow-renter', color: 'var(--secondary-color)', marker: 'url(#arrowhead-v2-magenta)', curvature: -0.2 }, // Access/Confirmation
                        // Lend/Borrow Flow
                        { from: 'flow-property-nft', to: 'flow-lock-lend', color: 'var(--primary-color)', marker: 'url(#arrowhead-v2)' },
                        { from: 'flow-lock-lend', to: 'flow-kali-platform', color: 'var(--primary-color)', marker: 'url(#arrowhead-v2)' },
                        { from: 'flow-borrower', to: 'flow-lend-contract', color: 'var(--primary-color)', marker: 'url(#arrowhead-v2)' },
                        { from: 'flow-lend-contract', to: 'flow-kali-platform', color: 'var(--primary-color)', marker: 'url(#arrowhead-v2)' },
                        { from: 'flow-kali-platform', to: 'flow-borrower', color: 'var(--primary-color)', marker: 'url(#arrowhead-v2)', curvature: 0.2 }, // Funds/Confirmation
                        // Blockchain Interaction (Example)
                        { from: 'flow-kali-platform', to: 'flow-pharos-bc', color: 'var(--tertiary-color)', marker: 'url(#arrowhead-v2-tertiary)', dashed: true },
                        { from: 'flow-rent-contract', to: 'flow-pharos-bc', color: 'var(--tertiary-color)', marker: 'url(#arrowhead-v2-tertiary)', dashed: true, curvature: 0.1 },
                        { from: 'flow-lend-contract', to: 'flow-pharos-bc', color: 'var(--tertiary-color)', marker: 'url(#arrowhead-v2-tertiary)', dashed: true, curvature: -0.1 }
                    ];

                    const gridRect = grid.getBoundingClientRect();
                    if (!gridRect || gridRect.width === 0 || gridRect.height === 0) {
                        console.warn("DEBUG: Flowchart V2 Warning - Grid dimensions zero or invalid. Cannot draw connections accurately.");
                        return; // Exit if grid dimensions aren't ready
                    }

                    let connectionsDrawn = 0;
                    connections.forEach((conn, index) => {
                        const elFrom = document.getElementById(conn.from);
                        const elTo = document.getElementById(conn.to);
                        if (!elFrom) { console.warn(`DEBUG: Flowchart V2 Warning - Element ${conn.from} not found`); return; }
                        if (!elTo) { console.warn(`DEBUG: Flowchart V2 Warning - Element ${conn.to} not found`); return; }

                        const rectFrom = elFrom.getBoundingClientRect();
                        const rectTo = elTo.getBoundingClientRect();

                        // Check if elements have valid dimensions and positions relative to the grid
                        if (elFrom.offsetWidth === 0 || elFrom.offsetHeight === 0 || elTo.offsetWidth === 0 || elTo.offsetHeight === 0) {
                             console.warn(`DEBUG: Flowchart V2 Warning - Node dimensions zero for ${conn.from} or ${conn.to}. Skipping connection.`);
                             return;
                        }

                        const start = { x: rectFrom.left + rectFrom.width / 2 - gridRect.left, y: rectFrom.top + rectFrom.height / 2 - gridRect.top };
                        const end = { x: rectTo.left + rectTo.width / 2 - gridRect.left, y: rectTo.top + rectTo.height / 2 - gridRect.top };

                        // Validate coordinates
                        if (!isFinite(start.x) || !isFinite(start.y) || !isFinite(end.x) || !isFinite(end.y)) {
                            console.warn(`DEBUG: Flowchart V2 Warning - Invalid coordinates calculated for connection ${conn.from} -> ${conn.to}. Skipping.`);
                            return;
                        }

                        const dx = end.x - start.x;
                        const dy = end.y - start.y;
                        const dist = Math.sqrt(dx*dx + dy*dy);
                        if (dist < 1) {
                            console.warn(`DEBUG: Flowchart V2 Warning - Nodes ${conn.from} and ${conn.to} are too close or overlapping. Skipping connection.`);
                            return;
                        }

                        // --- Revised Offset Calculation ---
                        let startOffsetX = 0, startOffsetY = 0, endOffsetX = 0, endOffsetY = 0;
                        const margin = 5; // Minimum gap from node edge
                        const arrowLength = 10; // Approximate length needed for arrowhead visibility

                        // Calculate intersections with bounding boxes (simplified)
                        // This is complex to do perfectly; using a fixed offset is often more reliable visually
                        const fixedOffset = 15; // Use a fixed pixel offset from the center

                        if (fixedOffset * 2 + arrowLength < dist) {
                            startOffsetX = (dx / dist) * fixedOffset;
                            startOffsetY = (dy / dist) * fixedOffset;
                            // Offset end point by slightly more to accommodate arrowhead
                            endOffsetX = (dx / dist) * (fixedOffset + arrowLength);
                            endOffsetY = (dy / dist) * (fixedOffset + arrowLength);
                        } else {
                             // If nodes are too close, connect centers or apply minimal offset
                             console.warn(`DEBUG: Flowchart V2 Warning - Nodes ${conn.from} and ${conn.to} too close for standard fixed offset.`);
                             // Example: minimal offset
                             startOffsetX = (dx/dist) * margin;
                             startOffsetY = (dy/dist) * margin;
                             endOffsetX = (dx/dist) * (margin + arrowLength);
                             endOffsetY = (dy/dist) * (margin + arrowLength);
                             // Ensure end offset doesn't cross start offset
                             if (margin*2 + arrowLength >= dist) {
                                 startOffsetX = startOffsetY = endOffsetX = endOffsetY = 0; // Connect centers if extremely close
                             }
                        }

                        let adjustedStart = { x: start.x + startOffsetX, y: start.y + startOffsetY };
                        let adjustedEnd = { x: end.x - endOffsetX, y: end.y - endOffsetY };

                        // Final validation of adjusted coordinates
                         if (!isFinite(adjustedStart.x) || !isFinite(adjustedStart.y) || !isFinite(adjustedEnd.x) || !isFinite(adjustedEnd.y)) {
                            console.warn(`DEBUG: Flowchart V2 Warning - Invalid adjusted coordinates for connection ${conn.from} -> ${conn.to}. Skipping.`);
                            return;
                        }

                        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                        let d = `M ${adjustedStart.x.toFixed(2)} ${adjustedStart.y.toFixed(2)}`;
                        const curvature = conn.curvature || 0;

                        if (curvature !== 0) {
                            const midX = (adjustedStart.x + adjustedEnd.x) / 2;
                            const midY = (adjustedStart.y + adjustedEnd.y) / 2;
                            // Adjust control point calculation slightly
                            const controlX = midX - dy * curvature * 0.6; // Adjusted curvature factor
                            const controlY = midY + dx * curvature * 0.6;
                             if (!isFinite(controlX) || !isFinite(controlY)) {
                                console.warn(`DEBUG: Flowchart V2 Warning - Invalid control point for curved connection ${conn.from} -> ${conn.to}. Using straight line.`);
                                d += ` L ${adjustedEnd.x.toFixed(2)} ${adjustedEnd.y.toFixed(2)}`;
                             } else {
                                d += ` Q ${controlX.toFixed(2)} ${controlY.toFixed(2)}, ${adjustedEnd.x.toFixed(2)} ${adjustedEnd.y.toFixed(2)}`;
                             }
                        } else {
                            d += ` L ${adjustedEnd.x.toFixed(2)} ${adjustedEnd.y.toFixed(2)}`;
                        }

                        path.setAttribute('d', d);
                        path.setAttribute('stroke', conn.color || 'var(--primary-color)');
                        path.setAttribute('stroke-width', '2');
                        path.setAttribute('fill', 'none');
                        path.setAttribute('marker-end', conn.marker || 'url(#arrowhead-v2)');
                        if (conn.dashed) { path.setAttribute('stroke-dasharray', '5, 5'); }

                        // Guard getTotalLength and animation setup
                        try {
                            const pathLength = path.getTotalLength();
                            if (pathLength > 0 && isFinite(pathLength)) {
                               path.style.strokeDasharray = pathLength;
                               path.style.strokeDashoffset = pathLength;
                               path.style.animation = `dash ${0.5 + Math.random()*0.5}s ${index * 0.05}s ease-out forwards`;
                            } else if (pathLength === 0) {
                                console.warn(`DEBUG: Flowchart V2 Warning - Path for ${conn.from} -> ${conn.to} has zero length. Skipping append.`);
                                return; // Use return instead of continue
                            } else {
                                console.warn(`DEBUG: Flowchart V2 Warning - Path for ${conn.from} -> ${conn.to} has invalid length (${pathLength}). Skipping animation.`);
                            }
                        } catch (pathError) {
                             console.error(`DEBUG: Flowchart V2 Error processing path for ${conn.from} -> ${conn.to}:`, pathError.message, pathError.stack);
                             return; // Use return instead of continue
                        }

                        svg.appendChild(path);
                        connectionsDrawn++;
                    });
                    console.log(`DEBUG: Flowchart drawing complete. ${connectionsDrawn} connections drawn.`);
                } catch (error) {
                    // Log specific error details
                    console.error("DEBUG: Error during flowchart drawing loop:", error.message, error.stack);
                }
            }

            // Add CSS for dash animation
            if (!document.getElementById('dash-animation-style')) {
                const styleSheet = document.createElement("style"); styleSheet.id = 'dash-animation-style';
                styleSheet.innerText = `@keyframes dash { to { stroke-dashoffset: 0; } }`;
                document.head.appendChild(styleSheet);
            }

            // Initialize first slide state
            if (slides.length > 0) {
                console.log(`DEBUG: Initializing. Slide ${currentSlide} should be active.`);
                // Initial flowchart draw if starting on slide 5
                if (slides[currentSlide].classList.contains('slide-how-it-works')) {
                     requestAnimationFrame(() => {
                         setTimeout(drawFlowchartConnectionsV2, 150);
                     });
                }
            }


            // Keyboard navigation
            document.addEventListener('keydown', (event) => {
                let targetSlide = currentSlide;
                if (event.key === 'ArrowRight') { targetSlide = (currentSlide + 1) % slides.length; }
                else if (event.key === 'ArrowLeft') { targetSlide = (currentSlide - 1 + slides.length) % slides.length; }
                if (targetSlide !== currentSlide) {
                    console.log(`DEBUG: Key pressed (${event.key}), changing to slide ${targetSlide}`);
                    goToSlide(targetSlide);
                 }
            });

            // Redraw flowchart on window resize
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                     if (slides.length > 0 && slides[currentSlide].classList.contains('slide-how-it-works')) {
                        console.log("DEBUG: Window resized, redrawing flowchart.");
                        drawFlowchartConnectionsV2();
                     }
                }, 250);
            });

        }); // End of DOMContentLoaded listener

    </script>

</body>
</html>
